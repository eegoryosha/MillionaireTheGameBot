# Телеграм Бот: игра «Кто хочет стать Миллионером»
Для того чтобы заработать 3 миллиона рублей, необходимо правильно ответить на 15 вопросов из различных областей знаний. Каждый вопрос имеет 4 варианта ответа, из которых только один является верным. Каждый вопрос имеет конкретную стоимость. Все суммы являются заменяемыми, то есть после ответа на следующий вопрос не суммируются с суммой за ответ на предыдущий. В любой момент игрок может остановиться и забрать уже заработанные деньги (до дачи ответа на текущий вопрос).

# Установка
1. Установить <strong>Node.js</strong> версии <strong>14.16.1</strong>
2. Создать папку и поместить в нее скачанные файлы
3. Инициализировать проект `$ npm init`
4. Создать базу данных в <strong>MongoDB</strong>
5. Настройка бота

# База данных 
Бот работает с <a href='https://www.mongodb.com/basics/create-database'>MongoDB</a>.  
База данных состоит из нескольких коллекций:
1. Легкие вопросы
2. Средние вопросы
3. Сложные вопросы
4. Очень сложные вопросы
5. Пользователи

Коллекции с вопросами имеют одинаковую схему:
```js
const queSchema = Schema({
    question: String, // текст вопроса
    answers: Array // массив с вариантами ответа
});
```
Массив с пользователями:
```js
const userSchema = Schema({
    _id: Number, // уникальный идентификатор
    userName: String, // логин пользователя
    userNickname: String, // никнейм пользователя
    userStatistic: Object, // статистика пользователя
    currentGame: Object, // данные текущей игры
    messages: Object, // сообщения в чате
    isButtonBlock: Boolean,  // блокировка кнопок
    activeScene: String, // активная сцена
}, {
    minimize: false // по умолчанию minimize стоит true, что означает, что пустые объекты не будут заноситься в базу при создании
});
```
# Настройка бота
### Получение токена и строки подключения
1. <a href='https://www.siteguarding.com/en/how-to-get-telegram-bot-api-token'>Получение Telegram bot API token</a>
2. <a href='https://docs.mongodb.com/guides/cloud/connectionstring/'>Получение строки подключения</a> к созданной базе данных MongoDB

Токен и строку подключения необходимо занести в <a href='https://www.npmjs.com/package/dotenv'>.env</a> файл
```
TOKEN = ...
MONGO = ...
```
# Запуск бота
`$ npm run start`
